<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Complete Irish Verb Conjugation Mastery</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f8f9fa;
    }

    .card {
      margin-bottom: 25px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .highlight {
      color: #2c3e50;
      font-weight: 600;
    }

    .key {
      padding: 10px 15px;
      margin: 5px;
      background: #e9ecef;
      border: 1px solid #ced4da;
      cursor: pointer;
      border-radius: 5px;
      transition: all 0.3s;
    }

    .key:hover {
      background: #d1d7dc;
      transform: translateY(-2px);
    }

    #keyboard {
      margin: 20px 0;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }

    .hidden {
      display: none;
    }

    .correct {
      color: #28a745;
      background-color: #e6ffed;
      padding: 10px;
      border-radius: 5px;
    }

    .incorrect {
      color: #dc3545;
      background-color: #ffebee;
      padding: 10px;
      border-radius: 5px;
    }

    .verb-table {
      width: 100%;
      border-collapse: collapse;
      margin: 15px 0;
    }

    .verb-table th,
    .verb-table td {
      border: 1px solid #dee2e6;
      padding: 12px;
      text-align: left;
    }

    .verb-table th {
      background-color: #2c3e50;
      color: white;
    }

    .verb-table tr:nth-child(even) {
      background-color: #f2f2f2;
    }

    .time-word {
      display: inline-block;
      margin: 5px;
      padding: 8px 12px;
      background: #e3f2fd;
      border-radius: 20px;
    }

    .section-title {
      border-bottom: 2px solid #2c3e50;
      padding-bottom: 10px;
      margin-top: 30px;
    }

    #progress-bar {
      transition: width 0.5s ease;
    }

    .conjugation-rule {
      background: #fff8e1;
      padding: 15px;
      border-left: 4px solid #ffc107;
      margin: 10px 0;
    }

    #reference-section {
      background-color: #f8f9fa;
      padding: 20px;
      border-radius: 5px;
      margin-top: 30px;
    }
  </style>
</head>

<body>
  <div class="container py-5">
    <!-- INTRO SECTION -->
    <div id="intro" class="card p-4">
      <h1 class="text-center mb-4">Complete Irish Verb Conjugation Mastery</h1>
      <div class="text-center mb-4">
        <img src="https://via.placeholder.com/600x300?text=Irish+Verbs" alt="Irish Verbs Illustration" class="img-fluid rounded"
          style="max-width: 100%; height: auto;">
      </div>

      <!-- Verb Types Explanation -->
      <div class="mb-4">
        <h3 class="section-title">1. Verb Types & Conjugation Rules</h3>

        <div class="conjugation-rule">
          <h5 class="highlight">1st Conjugation (C√©ad r√©imni√∫)</h5>
          <p><strong>Characteristics:</strong> Usually 1 syllable verbs</p>
          <p><strong>Examples:</strong> √ìl (Drink), Bris (Break), Scr√≠obh (Write)</p>
        </div>

        <div class="conjugation-rule">
          <h5 class="highlight">2nd Conjugation (Dara r√©imni√∫)</h5>
          <p><strong>Characteristics:</strong> Usually 2+ syllable verbs</p>
          <p><strong>Examples:</strong> Oscail (Open), Cabhraigh (Help), Cr√≠ochnaigh (Finish)</p>
        </div>

        <div class="row mt-3">
          <div class="col-md-6">
            <div class="conjugation-rule">
              <h5 class="highlight">Leathan Verbs</h5>
              <p><strong>Vowels:</strong> a, o, u</p>
              <p><strong>Present:</strong> -ann ending</p>
              <p><strong>Future:</strong> -faidh ending</p>
              <p><strong>Example:</strong> √ìl ‚Üí √ìlann (present), √ìlfaidh (future)</p>
            </div>
          </div>
          <div class="col-md-6">
            <div class="conjugation-rule">
              <h5 class="highlight">Caol Verbs</h5>
              <p><strong>Vowels:</strong> e, i</p>
              <p><strong>Present:</strong> -eann ending</p>
              <p><strong>Future:</strong> -fidh ending</p>
              <p><strong>Example:</strong> √âist ‚Üí √âisteann (present), √âistfidh (future)</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Tenses Explanation -->
      <div class="mb-4">
        <h3 class="section-title">2. Tense Conjugation Patterns</h3>
        <table class="verb-table">
          <thead>
            <tr>
              <th>Tense (Irish)</th>
              <th>English</th>
              <th>1st Conjugation (√ìl)</th>
              <th>2nd Conjugation (Oscail)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Aimsir Chaite</td>
              <td>Past</td>
              <td>D'√≥l m√©</td>
              <td>D'oscail m√©</td>
            </tr>
            <tr>
              <td>Aimsir L√°ithreach</td>
              <td>Present</td>
              <td>√ìlann m√©</td>
              <td>Oscla√≠onn m√©</td>
            </tr>
            <tr>
              <td>Aimsir Fh√°istineach</td>
              <td>Future</td>
              <td>√ìlfaidh m√©</td>
              <td>Oscl√≥idh m√©</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Time Words -->
      <div class="mb-4">
        <h3 class="section-title">3. Time-Based Words</h3>
        <div>
          <h5 class="highlight">Past Tense Words</h5>
          <span class="time-word">inn√© (yesterday)</span>
          <span class="time-word">anuraidh (last year)</span>
          <span class="time-word">an tseachtain seo caite (last week)</span>
          <span class="time-word">ar√©ir (last night)</span>
          <span class="time-word">fad√≥ (long ago)</span>
          <span class="time-word">ar√∫ inn√© (two days ago)</span>
        </div>
        <div class="mt-3">
          <h5 class="highlight">Present Tense Words</h5>
          <span class="time-word">inniu (today)</span>
          <span class="time-word">anois (now)</span>
          <span class="time-word">gach l√° (every day)</span>
          <span class="time-word">gach o√≠che (every night)</span>
          <span class="time-word">gach bliain (every year)</span>
        </div>
        <div class="mt-3">
          <h5 class="highlight">Future Tense Words</h5>
          <span class="time-word">am√°rach (tomorrow)</span>
          <span class="time-word">anocht (tonight)</span>
          <span class="time-word">an tseachtain seo chugainn (next week)</span>
          <span class="time-word">an bhliain seo chugainn (next year)</span>
        </div>
      </div>

      <div class="text-center">
        <button id="start-btn" class="btn btn-primary btn-lg">Start Learning Quiz</button>
      </div>
    </div>

    <!-- QUIZ SECTION -->
    <div id="quiz" class="hidden">
      <div class="card p-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
          <h3 id="quiz-phase" class="mb-0"></h3>
          <div id="quiz-progress" class="badge bg-primary">Question 1/12</div>
        </div>

        <div class="question mb-3 p-4 bg-light rounded">
          <h4 id="question-text" class="mb-3"></h4>
          <p id="tense-hint" class="text-muted fst-italic"></p>
        </div>

        <div class="mb-3">
          <input type="text" id="user-answer" class="form-control form-control-lg"
            placeholder="Type your answer in Irish..." autocomplete="off">
        </div>

        <!-- Irish Character Keyboard -->
        <div id="keyboard">
          <button class="key" onclick="insertChar('√°')">√°</button>
          <button class="key" onclick="insertChar('√©')">√©</button>
          <button class="key" onclick="insertChar('√≠')">√≠</button>
          <button class="key" onclick="insertChar('√≥')">√≥</button>
          <button class="key" onclick="insertChar('√∫')">√∫</button>
          <button class="key" onclick="insertChar('√Å')">√Å</button>
          <button class="key" onclick="insertChar('√â')">√â</button>
          <button class="key" onclick="insertChar('√ç')">√ç</button>
          <button class="key" onclick="insertChar('√ì')">√ì</button>
          <button class="key" onclick="insertChar('√ö')">√ö</button>
          <button class="key" onclick="insertChar(' º')"> º</button>
        </div>

        <div class="d-flex justify-content-between mt-4">
          <button id="hint-btn" class="btn btn-outline-secondary">Show Hint</button>
          <div>
            <button id="submit-btn" class="btn btn-primary">Check Answer</button>
            <button id="next-btn" class="btn btn-success hidden">Continue</button>
          </div>
        </div>

        <div id="feedback" class="mt-4 p-3 rounded"></div>
        <div id="hint-area" class="mt-3 p-3 bg-warning bg-opacity-10 rounded hidden"></div>
      </div>

      <div class="progress mt-4" style="height: 10px;">
        <div id="progress-bar" class="progress-bar bg-success" role="progressbar" style="width: 0%"></div>
      </div>

      <!-- Reference Section at Bottom -->
      <div id="reference-section" class="mt-5">
        <h4 class="section-title">Quick Reference Guide</h4>
        <div class="row">
          <div class="col-md-6">
            <h5>Verb Conjugation Rules</h5>
            <ul>
              <li><strong>Past Tense:</strong> Add D'/h prefix (D'√≥l m√©)</li>
              <li><strong>Present (1st Conj.):</strong> -ann/-eann ending (√ìlann m√©)</li>
              <li><strong>Present (2nd Conj.):</strong> -a√≠onn/-√≠onn ending (Oscla√≠onn m√©)</li>
              <li><strong>Future:</strong> -faidh/-fidh ending (√ìlfaidh m√©)</li>
            </ul>
          </div>
          <div class="col-md-6">
            <h5>Time Expressions</h5>
            <ul>
              <li><strong>Past:</strong> inn√©, ar√©ir, anuraidh</li>
              <li><strong>Present:</strong> inniu, anois, gach l√°</li>
              <li><strong>Future:</strong> am√°rach, anocht, an tseachtain seo chugainn</li>
            </ul>
          </div>
        </div>
        <button onclick="window.location.reload()" class="btn btn-outline-primary mt-3">Back to Home</button>
      </div>
    </div>

    <!-- RESULTS SECTION -->
    <div id="results" class="hidden">
      <div class="card p-4">
        <h2 class="text-center mb-4">Quiz Results</h2>

        <div class="text-center mb-4">
          <h3 id="score" class="display-4"></h3>
          <p id="score-message" class="lead"></p>
        </div>

        <div id="mistakes" class="mb-4">
          <h4 class="section-title mb-3">Mistakes to Review</h4>
          <div id="mistakes-list"></div>
        </div>

        <div class="d-flex justify-content-center gap-3">
          <button id="restart-btn" class="btn btn-primary btn-lg">Restart Full Quiz</button>
          <button id="practice-btn" class="btn btn-outline-primary btn-lg">Practice Mistakes</button>
          <button onclick="window.location.reload()" class="btn btn-outline-secondary btn-lg">Back to Home</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // COMPLETE VERB DATABASE (36 verbs)
    const verbsDatabase = [
      {
        irish: "√ìl", english: "drink", conjugation: "1st", type: "leathan",
        forms: {
          past: { root: "D'√≥l", example: "D'√≥l m√© uisce inn√©" },
          present: { root: "√ìlann", example: "√ìlann m√© tae gach l√°" },
          future: { root: "√ìlfaidh", example: "√ìlfaidh m√© caife am√°rach" }
        }
      },
      {
        irish: "Bris", english: "break", conjugation: "1st", type: "leathan",
        forms: {
          past: { root: "Bhris", example: "Bhris m√© an fhuinneog ar√©ir" },
          present: { root: "Briseann", example: "Briseann s√© ruda√≠ go minic" },
          future: { root: "Brisfidh", example: "Brisfidh m√© √© m√° t√° s√© briste" }
        }
      },
      {
        irish: "Scr√≠obh", english: "write", conjugation: "1st", type: "leathan",
        forms: {
          past: { root: "Scr√≠obh", example: "Scr√≠obh m√© litir anuraidh" },
          present: { root: "Scr√≠obhann", example: "Scr√≠obhann s√≠ gach l√°" },
          future: { root: "Scr√≠obhfaidh", example: "Scr√≠obhfaidh m√© leabhar am√°rach" }
        }
      },
      {
        irish: "Ceap", english: "think", conjugation: "1st", type: "leathan",
        forms: {
          past: { root: "Cheap", example: "Cheap m√© go raibh s√© anseo inn√©" },
          present: { root: "Ceapann", example: "Ceapann s√© gach l√°" },
          future: { root: "Ceapfaidh", example: "Ceapfaidh m√© faoi am√°rach" }
        }
      },
      {
        irish: "F√°g", english: "leave", conjugation: "1st", type: "leathan",
        forms: {
          past: { root: "D'fh√°g", example: "D'fh√°g m√© an baile ar√©ir" },
          present: { root: "F√°gann", example: "F√°gann s√≠ gach maidin" },
          future: { root: "F√°gfaidh", example: "F√°gfaidh m√© am√°rach" }
        }
      },
      {
        irish: "F√©ach", english: "look", conjugation: "1st", type: "leathan",
        forms: {
          past: { root: "D'fh√©ach", example: "D'fh√©ach m√© ar an teilif√≠s ar√©ir" },
          present: { root: "F√©achann", example: "F√©achann s√© ar an bhfuinneog gach l√°" },
          future: { root: "F√©achfaidh", example: "F√©achfaidh m√© air am√°rach" }
        }
      },
      {
        irish: "Pioc", english: "pick", conjugation: "1st", type: "leathan",
        forms: {
          past: { root: "Phioc", example: "Phioc m√© √∫lla inn√©" },
          present: { root: "Piceann", example: "Piceann s√≠ bl√°thanna gach l√°" },
          future: { root: "Picfidh", example: "Picfidh m√© tortha√≠ am√°rach" }
        }
      },
      {
        irish: "Cuir", english: "put", conjugation: "1st", type: "leathan",
        forms: {
          past: { root: "Chuir", example: "Chuir m√© an leabhar ar an t√°bla inn√©" },
          present: { root: "Cuireann", example: "Cuireann s√≠ bia ar an mbord gach l√°" },
          future: { root: "Cuirfidh", example: "Cuirfidh m√© √© sa bhosca am√°rach" }
        }
      },
      {
        irish: "Doirt", english: "pour", conjugation: "1st", type: "leathan",
        forms: {
          past: { root: "Dhoirt", example: "Dhoirt m√© bainne ar√©ir" },
          present: { root: "Doirteann", example: "Doirteann s√© uisce gach l√°" },
          future: { root: "Doirtfidh", example: "Doirtfidh m√© tae am√°rach" }
        }
      },
      {
        irish: "√âist", english: "listen", conjugation: "1st", type: "caol",
        forms: {
          past: { root: "D'√©ist", example: "D'√©ist m√© leis an gceol ar√©ir" },
          present: { root: "√âisteann", example: "√âisteann s√≠ le raidi√≥ gach l√°" },
          future: { root: "√âistfidh", example: "√âistfidh m√© le ceol am√°rach" }
        }
      },
      {
        irish: "Tuig", english: "understand", conjugation: "1st", type: "caol",
        forms: {
          past: { root: "Thuig", example: "Thuig m√© an sc√©al inn√©" },
          present: { root: "Tuigeann", example: "Tuigeann s√© Gaeilge gach l√°" },
          future: { root: "Tuigfidh", example: "Tuigfidh m√© √© am√°rach" }
        }
      },
      {
        irish: "Ainmnigh", english: "name", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "D'ainmnigh", example: "D'ainmnigh m√© mo mhadra inn√©" },
          present: { root: "Ainmn√≠onn", example: "Ainmn√≠onn s√≠ a leanbh gach l√°" },
          future: { root: "Ainmneoidh", example: "Ainmneoidh m√© √© am√°rach" }
        }
      },
      {
        irish: "Aistrigh", english: "translate", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "D'aistrigh", example: "D'aistrigh m√© an t√©acs ar√©ir" },
          present: { root: "Aistr√≠onn", example: "Aistr√≠onn s√© leabhair gach l√°" },
          future: { root: "Aistreoidh", example: "Aistreoidh m√© √© am√°rach" }
        }
      },
      {
        irish: "Bailigh", english: "collect", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "Bhailligh", example: "Bhailligh m√© airgead inn√©" },
          present: { root: "Bail√≠onn", example: "Bail√≠onn s√≠ clocha gach l√°" },
          future: { root: "Bail√≥idh", example: "Bail√≥idh m√© am√°rach" }
        }
      },
      {
        irish: "Ceistigh", english: "question", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "Cheistigh", example: "Cheistigh m√© an m√∫inteoir inn√©" },
          present: { root: "Ceist√≠onn", example: "Ceist√≠onn s√© gach l√°" },
          future: { root: "Ceisteoidh", example: "Ceisteoidh m√© √© am√°rach" }
        }
      },
      {
        irish: "√âirigh", english: "get up", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "D'√©irigh", example: "D'√©irigh m√© go moch ar√©ir" },
          present: { root: "√âir√≠onn", example: "√âir√≠onn s√© gach maidin" },
          future: { root: "√âireoidh", example: "√âireoidh m√© am√°rach" }
        }
      },
      {
        irish: "Maisigh", english: "decorate", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "Mhaisigh", example: "Mhaisigh m√© an seomra inn√©" },
          present: { root: "Mais√≠onn", example: "Mais√≠onn s√≠ an teach gach bliain" },
          future: { root: "Maisfidh", example: "Maisfidh m√© √© am√°rach" }
        }
      },
      {
        irish: "S√°bh√°il", english: "save", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "Sh√°bh√°il", example: "Sh√°bh√°il m√© an doicim√©ad inn√©" },
          present: { root: "S√°bh√°lann", example: "S√°bh√°lann s√© airgead gach m√≠" },
          future: { root: "S√°bh√°lfaidh", example: "S√°bh√°lfaidh m√© √© am√°rach" }
        }
      },
      {
        irish: "Bagair", english: "threaten", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "Bhagair", example: "Bhagair s√© orm inn√©" },
          present: { root: "Bagra√≠onn", example: "Bagra√≠onn s√© gach l√°" },
          future: { root: "Bagr√≥idh", example: "Bagr√≥idh m√© √© am√°rach" }
        }
      },
      {
        irish: "Codail", english: "sleep", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "Chodail", example: "Chodail m√© go maith ar√©ir" },
          present: { root: "Codla√≠onn", example: "Codla√≠onn s√© gach o√≠che" },
          future: { root: "Codl√≥idh", example: "Codl√≥idh m√© am√°rach" }
        }
      },
      {
        irish: "Freagair", english: "answer", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "D'fhreagair", example: "D'fhreagair m√© an cheist inn√©" },
          present: { root: "Freagra√≠onn", example: "Freagra√≠onn s√© gach l√°" },
          future: { root: "Freagr√≥idh", example: "Freagr√≥idh m√© am√°rach" }
        }
      },
      {
        irish: "Oscail", english: "open", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "D'oscail", example: "D'oscail m√© an doras inn√©" },
          present: { root: "Oscla√≠onn", example: "Oscla√≠onn an siopa gach l√°" },
          future: { root: "Oscl√≥idh", example: "Oscl√≥idh m√© √© am√°rach" }
        }
      },
      {
        irish: "Labhair", english: "speak", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "Labhair", example: "Labhair m√© leis inn√©" },
          present: { root: "Labhra√≠onn", example: "Labhra√≠onn s√≠ Gaeilge gach l√°" },
          future: { root: "Labhr√≥idh", example: "Labhr√≥idh m√© leis am√°rach" }
        }
      },
      {
        irish: "Bain", english: "cut/take", conjugation: "1st", type: "leathan",
        forms: {
          past: { root: "Bhain", example: "Bhain m√© an t-ar√°n inn√©" },
          present: { root: "Baineann", example: "Baineann s√≠ √∫s√°id as gach l√°" },
          future: { root: "Bainfidh", example: "Bainfidh m√© taitneamh as am√°rach" }
        }
      },
      {
        irish: "Buail le", english: "meet", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "Bhuail m√© le", example: "Bhuail m√© l√©i inn√©" },
          present: { root: "Buaileann m√© le", example: "Buaileann m√© leis gach l√°" },
          future: { root: "Buailfidh m√© le", example: "Buailfidh m√© leis am√°rach" }
        }
      },
      {
        irish: "Brostaigh", english: "hurry", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "Bhrostaigh", example: "Bhrostaigh m√© abhaile inn√©" },
          present: { root: "Brosta√≠onn", example: "Brosta√≠onn s√© gach maidin" },
          future: { root: "Brost√≥idh", example: "Brost√≥idh m√© am√°rach" }
        }
      },
      {
        irish: "Cabhraigh", english: "help", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "Chabhraigh", example: "Chabhraigh m√© l√©i inn√©" },
          present: { root: "Cabhra√≠onn", example: "Cabhra√≠onn s√© linn gach l√°" },
          future: { root: "Cabhr√≥idh", example: "Cabhr√≥idh m√© leat am√°rach" }
        }
      },
      {
        irish: "Cr√≠ochnaigh", english: "finish", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "Chr√≠ochnaigh", example: "Chr√≠ochnaigh m√© an obair inn√©" },
          present: { root: "Cr√≠ochna√≠onn", example: "Cr√≠ochna√≠onn s√© gach l√°" },
          future: { root: "Cr√≠ochn√≥idh", example: "Cr√≠ochn√≥idh m√© √© am√°rach" }
        }
      },
      {
        irish: "Imir", english: "play", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "D'imir", example: "D'imir m√© peil inn√©" },
          present: { root: "Imr√≠onn", example: "Imr√≠onn s√© gach l√°" },
          future: { root: "Imreoidh", example: "Imreoidh m√© am√°rach" }
        }
      },
      {
        irish: "Inis", english: "tell", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "D'inis", example: "D'inis m√© sc√©al inn√©" },
          present: { root: "Ins√≠onn", example: "Ins√≠onn s√≠ sc√©alta gach o√≠che" },
          future: { root: "Inseoidh", example: "Inseoidh m√© √© am√°rach" }
        }
      },
      {
        irish: "P√©inte√°il", english: "paint", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "Ph√©inte√°il", example: "Ph√©inte√°il m√© an balla inn√©" },
          present: { root: "P√©inte√°lann", example: "P√©inte√°lann s√© picti√∫ir gach l√°" },
          future: { root: "P√©inte√°lfaidh", example: "P√©inte√°lfaidh m√© √© am√°rach" }
        }
      },
      {
        irish: "Gortaigh", english: "hurt", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "Ghortaigh", example: "Ghortaigh m√© mo chos inn√©" },
          present: { root: "Gorta√≠onn", example: "Gorta√≠onn s√© gach l√°" },
          future: { root: "Gort√≥idh", example: "Gort√≥idh m√© √© am√°rach" }
        }
      },
      {
        irish: "Aontaigh", english: "agree", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "D'aontaigh", example: "D'aontaigh m√© leis inn√©" },
          present: { root: "Aonta√≠onn", example: "Aonta√≠onn s√≠ gach l√°" },
          future: { root: "Aont√≥idh", example: "Aont√≥idh m√© am√°rach" }
        }
      },
      {
        irish: "Tosaigh", english: "start", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "Thosaigh", example: "Thosaigh m√© an c√∫rsa inn√©" },
          present: { root: "Tosa√≠onn", example: "Tosa√≠onn s√© gach maidin" },
          future: { root: "Tos√≥idh", example: "Tos√≥idh m√© am√°rach" }
        }
      },
      {
        irish: "Eagraigh", english: "organize", conjugation: "2nd", type: "leathan",
        forms: {
          past: { root: "D'eagraigh", example: "D'eagraigh m√© an √≥c√°id inn√©" },
          present: { root: "Eagra√≠onn", example: "Eagra√≠onn s√© imeachta√≠ gach m√≠" },
          future: { root: "Eagr√≥idh", example: "Eagr√≥idh m√© √© am√°rach" }
        }
      }
    ];

    // TIME WORDS ORGANIZED BY TENSE
    const timeWords = {
      past: [
        { irish: "inn√©", english: "yesterday" },
        { irish: "anuraidh", english: "last year" },
        { irish: "an tseachtain seo caite", english: "last week" },
        { irish: "ar√©ir", english: "last night" },
        { irish: "fad√≥", english: "long ago" },
        { irish: "ar√∫ inn√©", english: "two days ago" }
      ],
      present: [
        { irish: "inniu", english: "today" },
        { irish: "anois", english: "now" },
        { irish: "gach l√°", english: "every day" },
        { irish: "gach o√≠che", english: "every night" },
        { irish: "gach bliain", english: "every year" }
      ],
      future: [
        { irish: "am√°rach", english: "tomorrow" },
        { irish: "anocht", english: "tonight" },
        { irish: "an tseachtain seo chugainn", english: "next week" },
        { irish: "an bhliain seo chugainn", english: "next year" }
      ]
    };

    // QUIZ STRUCTURE
    const defaultQuizStructure = [
      { phase: "Aimsir Chaite", count: 4, instructions: "Conjugate in Past Tense (AC)" },
      { phase: "Aimsir L√°ithreach", count: 4, instructions: "Conjugate in Present Tense (AL)" },
      { phase: "Aimsir Fh√°istineach", count: 4, instructions: "Conjugate in Future Tense (AF)" }
    ];

    // QUIZ STATE MANAGEMENT
    let currentQuiz = {
      phaseIndex: 0,
      questionIndex: 0,
      score: 0,
      mistakes: [],
      currentVerb: null,
      currentTense: null,
      currentTimeWord: null,
      usedVerbs: new Set()
    };

    let quizStructure = [...defaultQuizStructure];

    // DOM ELEMENTS
    const introSection = document.getElementById('intro');
    const quizSection = document.getElementById('quiz');
    const resultsSection = document.getElementById('results');
    const quizPhaseEl = document.getElementById('quiz-phase');
    const quizProgressEl = document.getElementById('quiz-progress');
    const questionTextEl = document.getElementById('question-text');
    const tenseHintEl = document.getElementById('tense-hint');
    const userAnswerEl = document.getElementById('user-answer');
    const feedbackEl = document.getElementById('feedback');
    const hintAreaEl = document.getElementById('hint-area');
    const submitBtn = document.getElementById('submit-btn');
    const nextBtn = document.getElementById('next-btn');
    const hintBtn = document.getElementById('hint-btn');
    const progressBar = document.getElementById('progress-bar');
    const scoreEl = document.getElementById('score');
    const scoreMessageEl = document.getElementById('score-message');
    const mistakesListEl = document.getElementById('mistakes-list');

    // EVENT LISTENERS
    document.getElementById('start-btn').addEventListener('click', startQuiz);
    document.getElementById('restart-btn').addEventListener('click', startQuiz);
    document.getElementById('practice-btn').addEventListener('click', practiceMistakes);
    submitBtn.addEventListener('click', checkAnswer);
    nextBtn.addEventListener('click', nextQuestion);
    hintBtn.addEventListener('click', showHint);
    userAnswerEl.addEventListener('keypress', function (e) {
      if (e.key === 'Enter') checkAnswer();
    });

    // QUIZ FUNCTIONS
    function startQuiz() {
      currentQuiz = {
        phaseIndex: 0,
        questionIndex: 0,
        score: 0,
        mistakes: [],
        currentVerb: null,
        currentTense: null,
        currentTimeWord: null,
        usedVerbs: new Set()
      };

      quizStructure = [...defaultQuizStructure];
      introSection.classList.add('hidden');
      resultsSection.classList.add('hidden');
      quizSection.classList.remove('hidden');
      startPhase();
    }

    function startPhase() {
      const currentPhase = quizStructure[currentQuiz.phaseIndex];
      quizPhaseEl.textContent = currentPhase.phase;
      updateProgress();
      generateQuestion();
    }

    function generateQuestion() {
      feedbackEl.textContent = '';
      feedbackEl.className = '';
      hintAreaEl.classList.add('hidden');

      const currentPhase = quizStructure[currentQuiz.phaseIndex];
      const tenseKey = currentPhase.phase.includes("Chaite") ? "past" :
        currentPhase.phase.includes("L√°ithreach") ? "present" : "future";

      let availableVerbs = verbsDatabase.filter(v => v.forms[tenseKey] && !currentQuiz.usedVerbs.has(v.irish));

      if (availableVerbs.length === 0) {
        currentQuiz.usedVerbs = new Set();
        availableVerbs = verbsDatabase.filter(v => v.forms[tenseKey]);
      }

      currentQuiz.currentVerb = availableVerbs[Math.floor(Math.random() * availableVerbs.length)];
      currentQuiz.usedVerbs.add(currentQuiz.currentVerb.irish);
      currentQuiz.currentTimeWord = timeWords[tenseKey][Math.floor(Math.random() * timeWords[tenseKey].length)];

      const englishSentence = `I ${currentQuiz.currentVerb.english} ${currentQuiz.currentTimeWord.english}.`;
      questionTextEl.textContent = `Translate to Irish (${currentPhase.phase}): "${englishSentence}"`;

      tenseHintEl.innerHTML = `
        <strong>${currentPhase.phase}</strong> | 
        Verb: <strong>${currentQuiz.currentVerb.irish}</strong> |
        Type: ${currentQuiz.currentVerb.conjugation} Conjugation, ${currentQuiz.currentVerb.type}
      `;

      let conjugatedVerb = currentQuiz.currentVerb.forms[tenseKey].root;
      currentQuiz.correctAnswer = `${conjugatedVerb} m√© ${currentQuiz.currentTimeWord.irish}.`.replace(" .", ".");

      userAnswerEl.value = '';
      userAnswerEl.focus();
      submitBtn.classList.remove('hidden');
      nextBtn.classList.add('hidden');
    }

    function cleanString(str) {
      return str.trim()
        .toLowerCase()
        .replace(/[.,;]/g, '')
        .replace(/\s+/g, ' ')
        .replace(/[ º']/g, "'");
    }

    function checkAnswer() {
      const userResponse = cleanString(userAnswerEl.value);
      const correctAnswer = cleanString(currentQuiz.correctAnswer);
      const isCorrect = userResponse === correctAnswer;

      if (isCorrect) {
        feedbackEl.textContent = "‚úÖ Correct! Excellent work!";
        feedbackEl.className = "correct";
        currentQuiz.score++;
      } else {
        feedbackEl.innerHTML = `
          ‚ùå Incorrect. The correct answer is:<br>
          <strong>${currentQuiz.correctAnswer}</strong><br>
          <em>${getVerbConjugationRule()}</em>
        `;
        feedbackEl.className = "incorrect";

        currentQuiz.mistakes.push({
          question: questionTextEl.textContent,
          userAnswer: userAnswerEl.value.trim(),
          correctAnswer: currentQuiz.correctAnswer,
          verb: currentQuiz.currentVerb.irish,
          tense: quizStructure[currentQuiz.phaseIndex].phase,
          rule: getVerbConjugationRule()
        });
      }

      submitBtn.classList.add('hidden');
      nextBtn.classList.remove('hidden');
      updateProgress();
    }

    function getVerbConjugationRule() {
      const verb = currentQuiz.currentVerb;
      const tense = quizStructure[currentQuiz.phaseIndex].phase;
      const tenseKey = tense.includes("Chaite") ? "past" :
        tense.includes("L√°ithreach") ? "present" : "future";

      let rule = "";
      if (tenseKey === "past") {
        rule = `Past (AC): Add ${verb.type === "leathan" ? "D'/h prefix" : "D'/h prefix (caol)"}`;
      } else if (tenseKey === "present") {
        if (verb.conjugation === "1st") {
          rule = `Present (AL): Add ${verb.type === "leathan" ? "-ann" : "-eann"} ending`;
        } else {
          rule = `Present (AL): Add ${verb.type === "leathan" ? "-a√≠onn" : "-√≠onn"} ending`;
        }
      } else {
        rule = `Future (AF): Add ${verb.type === "leathan" ? "-faidh" : "-fidh"} ending`;
      }

      return `${verb.irish} (${verb.conjugation} Conj., ${verb.type}): ${rule}`;
    }

    function showHint() {
      const verb = currentQuiz.currentVerb;
      const tenseKey = quizStructure[currentQuiz.phaseIndex].phase.includes("Chaite") ? "past" :
        quizStructure[currentQuiz.phaseIndex].phase.includes("L√°ithreach") ? "present" : "future";

      const form = verb.forms[tenseKey];

      hintAreaEl.innerHTML = `
        <h5 class="mb-2">Hint for ${verb.irish} (${tenseKey} tense):</h5>
        <p><strong>Conjugated form:</strong> ${form.root} m√©</p>
        <p><strong>Example:</strong> "${form.example}"</p>
        <p><strong>Time expression:</strong> ${currentQuiz.currentTimeWord.irish} (${currentQuiz.currentTimeWord.english})</p>
        <p class="mt-2"><em>Rule: ${getVerbConjugationRule()}</em></p>
      `;
      hintAreaEl.classList.remove('hidden');
    }

    function nextQuestion() {
      currentQuiz.questionIndex++;

      if (currentQuiz.questionIndex >= quizStructure[currentQuiz.phaseIndex].count) {
        currentQuiz.phaseIndex++;
        currentQuiz.questionIndex = 0;

        if (currentQuiz.phaseIndex >= quizStructure.length) {
          showResults();
          return;
        }

        startPhase();
      } else {
        generateQuestion();
      }
    }

    function updateProgress() {
      const totalQuestions = quizStructure.reduce((sum, phase) => sum + phase.count, 0);
      const answeredQuestions = quizStructure.slice(0, currentQuiz.phaseIndex)
        .reduce((sum, phase) => sum + phase.count, currentQuiz.questionIndex);

      const percent = (answeredQuestions / totalQuestions) * 100;
      progressBar.style.width = `${percent}%`;
      quizProgressEl.textContent = `Question ${answeredQuestions + 1}/${totalQuestions}`;
    }

    function showResults() {
      quizSection.classList.add('hidden');
      resultsSection.classList.remove('hidden');

      const totalQuestions = quizStructure.reduce((sum, phase) => sum + phase.count, 0);
      const percentage = Math.round((currentQuiz.score / totalQuestions) * 100);

      scoreEl.textContent = `${currentQuiz.score}/${totalQuestions} (${percentage}%)`;

      if (percentage >= 90) {
        scoreMessageEl.textContent = "Excellent! You've mastered these conjugations!";
        scoreMessageEl.className = "text-success";
      } else if (percentage >= 70) {
        scoreMessageEl.textContent = "Good job! Review your mistakes to improve.";
        scoreMessageEl.className = "text-primary";
      } else {
        scoreMessageEl.textContent = "Keep practicing! Focus on the rules below.";
        scoreMessageEl.className = "text-warning";
      }

      if (currentQuiz.mistakes.length > 0) {
        mistakesListEl.innerHTML = currentQuiz.mistakes.map((mistake, index) => `
          <div class="card mb-3">
            <div class="card-body">
              <h5>Question ${index + 1}</h5>
              <p><strong>Task:</strong> ${mistake.tense} - ${mistake.question}</p>
              <p class="text-danger"><strong>Your answer:</strong> ${mistake.userAnswer || "(blank)"}</p>
              <p class="text-success"><strong>Correct answer:</strong> ${mistake.correctAnswer}</p>
              <p><em>${mistake.rule}</em></p>
            </div>
          </div>
        `).join('');
      } else {
        mistakesListEl.innerHTML = "<p class='text-center'>Perfect! No mistakes to review.</p>";
      }
    }

    function practiceMistakes() {
      if (currentQuiz.mistakes.length === 0) {
        startQuiz();
        return;
      }

      quizStructure = [{
        phase: "Practice Mistakes",
        count: currentQuiz.mistakes.length,
        instructions: "Review your incorrect answers"
      }];

      currentQuiz = {
        phaseIndex: 0,
        questionIndex: 0,
        score: 0,
        mistakes: [],
        currentVerb: null,
        currentTense: null,
        currentTimeWord: null,
        usedVerbs: new Set()
      };

      resultsSection.classList.add('hidden');
      quizSection.classList.remove('hidden');
      startPhase();
    }

    function insertChar(char) {
      const startPos = userAnswerEl.selectionStart;
      const endPos = userAnswerEl.selectionEnd;
      const currentValue = userAnswerEl.value;

      userAnswerEl.value = currentValue.substring(0, startPos) + char + currentValue.substring(endPos);
      userAnswerEl.selectionStart = userAnswerEl.selectionEnd = startPos + char.length;
      userAnswerEl.focus();
    }
   
  </script>
  <div class="home-button-container" style="width: 100%; display: flex; justify-content: center; margin-top: 20px; margin-bottom: 20px;">
    <a href="index.html" class="btn btn-primary">üè† Home</a>
  </div>
</div>
</body>
</html>